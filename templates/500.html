{% extends 'base.html' %}

{% block title %}
    Server Error - PeaShan Enterprises
{% endblock %}

{% block content %}
<!-- Enhanced 500 Hero Section -->
<section class="hero is-large has-text-centered" style="background: linear-gradient(135deg, var(--dark-bg) 0%, var(--darker-bg) 100%); color: white; min-height: 100vh; display: flex; align-items: center; position: relative; overflow: hidden;">
    <!-- Animated background elements -->
    <div class="hero-bg-elements">
        <div class="bg-shape shape-1"></div>
        <div class="bg-shape shape-2"></div>
        <div class="bg-shape shape-3"></div>
        <div class="bg-shape shape-4"></div>
    </div>

    <div class="hero-body">
        <div class="container">
            <div class="columns is-centered">
                <div class="column is-10">
                    <div class="animate-on-scroll">
                        <!-- Main 500 Display -->
                        <div class="error-display mb-6">
                            <div class="error-icon-container">
                                <i class="fas fa-exclamation-triangle error-icon"></i>
                                <div class="error-code-container">
                                    <h1 class="error-code" style="font-size: 12rem; font-weight: 900; background: linear-gradient(45deg, #ff6b35, #f7931e, #ff8c42); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-shadow: 0 0 30px rgba(255, 107, 53, 0.5); margin: 0; line-height: 0.8;">
                                        500
                                    </h1>
                                </div>
                            </div>
                        </div>

                        <h2 class="error-title is-2 has-text-white mb-5" style="font-weight: 300; font-size: 2.5rem; text-shadow: 0 2px 4px rgba(0,0,0,0.3);">
                            Server Error Occurred
                        </h2>
                        <p class="error-description is-size-4 has-text-white mb-6" style="opacity: 0.9; max-width: 700px; margin: 0 auto; line-height: 1.6; font-size: 1.2rem;">
                            Oops! Something went wrong on our end. Our technical team has been notified and is working to fix this issue.
                            Even the most reliable printing systems need occasional maintenance!
                        </p>

                        <!-- Primary Action Buttons -->
                        <div class="error-actions mb-6">
                            <div class="buttons is-centered main-buttons">
                                <button onclick="retryPage()" class="button primary-action retry-btn" style="background: linear-gradient(45deg, var(--accent), #00b894); border: none; padding: 1.2rem 2.5rem; font-size: 1.1rem; border-radius: 50px; transition: all 0.3s ease; box-shadow: 0 8px 25px rgba(0, 209, 178, 0.3);">
                                    <span class="icon">
                                        <i class="fas fa-redo"></i>
                                    </span>
                                    <span>Try Again</span>
                                </button>
                                <a href="{% url 'gallery:index' %}" class="button secondary-action" style="background: rgba(255, 255, 255, 0.1); border: 2px solid rgba(255, 255, 255, 0.3); padding: 1.2rem 2.5rem; font-size: 1.1rem; border-radius: 50px; transition: all 0.3s ease; backdrop-filter: blur(10px);">
                                    <span class="icon">
                                        <i class="fas fa-home"></i>
                                    </span>
                                    <span>Go Home</span>
                                </a>
                            </div>
                        </div>

                        <!-- Alternative Actions -->
                        <div class="alternative-actions mb-6">
                            <div class="buttons is-centered alt-buttons">
                                <a href="{% url 'gallery:gallery' %}" class="button alt-action gallery-btn" style="background: linear-gradient(45deg, #667eea, #764ba2); border: none; padding: 1rem 2rem; font-size: 1rem; border-radius: 25px; transition: all 0.3s ease;">
                                    <span class="icon">
                                        <i class="fas fa-images"></i>
                                    </span>
                                    <span>Browse Gallery</span>
                                </a>
                                <a href="#contact" class="button alt-action contact-btn" style="background: linear-gradient(45deg, #f093fb, #f5576c); border: none; padding: 1rem 2rem; font-size: 1rem; border-radius: 25px; transition: all 0.3s ease;">
                                    <span class="icon">
                                        <i class="fas fa-headset"></i>
                                    </span>
                                    <span>Contact Support</span>
                                </a>
                            </div>
                        </div>

                        <!-- Help Information Card -->
                        <div class="help-info mb-6">
                            <div class="info-card" style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 2rem; max-width: 700px; margin: 0 auto; backdrop-filter: blur(10px);">
                                <div class="card-header mb-4">
                                    <i class="fas fa-info-circle info-icon"></i>
                                    <h3 class="card-title" style="color: var(--secondary); margin: 0; font-size: 1.3rem;">What happened and what you can do:</h3>
                                </div>
                                <div class="card-content">
                                    <div class="action-list">
                                        <div class="action-item">
                                            <i class="fas fa-redo action-icon"></i>
                                            <div class="action-text">
                                                <strong>Try Again:</strong> Click the "Try Again" button above to reload the page
                                            </div>
                                        </div>
                                        <div class="action-item">
                                            <i class="fas fa-home action-icon"></i>
                                            <div class="action-text">
                                                <strong>Go Home:</strong> Return to our homepage to continue browsing
                                            </div>
                                        </div>
                                        <div class="action-item">
                                            <i class="fas fa-headset action-icon"></i>
                                            <div class="action-text">
                                                <strong>Contact Us:</strong> If the problem persists, our support team is here to help
                                            </div>
                                        </div>
                                        <div class="action-item">
                                            <i class="fas fa-clock action-icon"></i>
                                            <div class="action-text">
                                                <strong>Wait:</strong> Our technical team is working to resolve this issue
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Status Indicator -->
                        <div class="status-indicator">
                            <div class="status-card" style="background: rgba(255, 193, 7, 0.1); border: 1px solid rgba(255, 193, 7, 0.3); border-radius: 15px; padding: 1.5rem; max-width: 600px; margin: 0 auto; backdrop-filter: blur(10px);">
                                <div class="status-content">
                                    <i class="fas fa-tools status-icon"></i>
                                    <div class="status-text">
                                        <strong>Status:</strong> Our technical team has been automatically notified and is investigating this issue. We apologize for any inconvenience.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Enhanced 500 page animations and interactions

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({behavior: 'smooth', block: 'start'});
                } else {
                    // If anchor doesn't exist on current page, go to home with hash
                    window.location.href = '/#' + this.getAttribute('href').substring(1);
                }
            });
        });

        // Enhanced error code animation
        const errorCode = document.querySelector('.error-code');
        if (errorCode) {
            // Add warning pulse animation
            errorCode.style.animation = 'warningPulse 2s ease-in-out infinite, shake 0.5s ease-in-out infinite';

            // Add interactive hover effect
            errorCode.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.1) rotate(-5deg)';
                this.style.filter = 'drop-shadow(0 0 20px rgba(255, 107, 53, 0.8))';
            });

            errorCode.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1) rotate(0deg)';
                this.style.filter = 'drop-shadow(0 0 30px rgba(255, 107, 53, 0.5))';
            });
        }

        // Enhanced button interactions
        const primaryButton = document.querySelector('.primary-action');
        const secondaryButton = document.querySelector('.secondary-action');
        const altButtons = document.querySelectorAll('.alt-action');

        if (primaryButton) {
            primaryButton.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px) scale(1.05)';
                this.style.boxShadow = '0 12px 35px rgba(0, 209, 178, 0.4)';
            });

            primaryButton.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
                this.style.boxShadow = '0 8px 25px rgba(0, 209, 178, 0.3)';
            });
        }

        if (secondaryButton) {
            secondaryButton.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px)';
                this.style.borderColor = 'var(--secondary)';
                this.style.background = 'rgba(255, 107, 53, 0.1)';
            });

            secondaryButton.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.borderColor = 'rgba(255, 255, 255, 0.3)';
                this.style.background = 'rgba(255, 255, 255, 0.1)';
            });
        }

        altButtons.forEach(button => {
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px) scale(1.02)';
            });

            button.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        // Info card interactions
        const infoCard = document.querySelector('.info-card');
        if (infoCard) {
            infoCard.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
                this.style.boxShadow = '0 15px 35px rgba(0, 0, 0, 0.2)';
                this.style.borderColor = 'var(--accent)';
            });

            infoCard.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
                this.style.borderColor = 'rgba(255, 255, 255, 0.1)';
            });
        }

        // Action items hover effects
        const actionItems = document.querySelectorAll('.action-item');
        actionItems.forEach(item => {
            item.addEventListener('mouseenter', function() {
                const icon = this.querySelector('.action-icon');
                if (icon) {
                    icon.style.transform = 'scale(1.2) rotate(10deg)';
                    icon.style.color = 'var(--secondary)';
                }
            });

            item.addEventListener('mouseleave', function() {
                const icon = this.querySelector('.action-icon');
                if (icon) {
                    icon.style.transform = 'scale(1) rotate(0deg)';
                    icon.style.color = '';
                }
            });
        });

        // Status card interactions
        const statusCard = document.querySelector('.status-card');
        if (statusCard) {
            statusCard.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px)';
                this.style.boxShadow = '0 10px 25px rgba(255, 193, 7, 0.2)';
                this.style.borderColor = '#ffc107';
            });

            statusCard.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
                this.style.borderColor = 'rgba(255, 193, 7, 0.3)';
            });
        }

        // Background shapes animation
        const bgShapes = document.querySelectorAll('.bg-shape');
        bgShapes.forEach((shape, index) => {
            shape.addEventListener('mouseenter', function() {
                this.style.transform = 'scale(1.3) rotate(180deg)';
                this.style.opacity = '0.2';
            });

            shape.addEventListener('mouseleave', function() {
                this.style.transform = 'scale(1) rotate(0deg)';
                this.style.opacity = '0.1';
            });
        });

        // Add parallax effect to hero section
        const hero = document.querySelector('.hero');
        if (hero) {
            hero.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                const { innerWidth, innerHeight } = window;

                const xPercent = (clientX / innerWidth - 0.5) * 2;
                const yPercent = (clientY / innerHeight - 0.5) * 2;

                const errorDisplay = document.querySelector('.error-display');
                const errorTitle = document.querySelector('.error-title');
                const errorDescription = document.querySelector('.error-description');

                if (errorDisplay) errorDisplay.style.transform = `translate(${xPercent * 15}px, ${yPercent * 15}px)`;
                if (errorTitle) errorTitle.style.transform = `translate(${xPercent * 10}px, ${yPercent * 10}px)`;
                if (errorDescription) errorDescription.style.transform = `translate(${xPercent * 5}px, ${yPercent * 5}px)`;
            });
        }

        // Add typing effect to error description
        const errorDescription = document.querySelector('.error-description');
        if (errorDescription) {
            const text = errorDescription.textContent;
            errorDescription.textContent = '';
            errorDescription.style.opacity = '1';

            let i = 0;
            const typeWriter = () => {
                if (i < text.length) {
                    errorDescription.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeWriter, 50);
                }
            };

            setTimeout(typeWriter, 1000);
        }
    });

    // Enhanced retry function
    function retryPage() {
        const retryBtn = document.querySelector('.retry-btn');
        if (retryBtn) {
            const originalContent = retryBtn.innerHTML;
            retryBtn.innerHTML = '<span class="icon"><i class="fas fa-spinner fa-spin"></i></span><span>Retrying...</span>';
            retryBtn.disabled = true;

            // Add visual feedback
            retryBtn.style.background = 'linear-gradient(45deg, #00b894, var(--accent))';

            setTimeout(() => {
                retryBtn.innerHTML = originalContent;
                retryBtn.disabled = false;
                retryBtn.style.background = 'linear-gradient(45deg, var(--accent), #00b894)';
                location.reload();
            }, 2000);
        }
    }
</script>

<style>
    /* Enhanced 500 page styles */
    .hero-bg-elements {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        z-index: 1;
    }

    .bg-shape {
        position: absolute;
        border-radius: 50%;
        background: linear-gradient(45deg, rgba(255, 107, 53, 0.1), rgba(247, 147, 30, 0.1));
        opacity: 0.1;
        transition: all 0.3s ease;
    }

    .shape-1 {
        width: 300px;
        height: 300px;
        top: 10%;
        left: 10%;
        animation: float 8s ease-in-out infinite;
    }

    .shape-2 {
        width: 200px;
        height: 200px;
        top: 60%;
        right: 15%;
        animation: float 6s ease-in-out infinite reverse;
    }

    .shape-3 {
        width: 150px;
        height: 150px;
        bottom: 20%;
        left: 20%;
        animation: float 10s ease-in-out infinite;
    }

    .shape-4 {
        width: 100px;
        height: 100px;
        top: 30%;
        right: 30%;
        animation: float 7s ease-in-out infinite;
    }

    .error-display {
        position: relative;
        margin-bottom: 3rem;
    }

    .error-icon-container {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 2rem;
    }

    .error-icon {
        font-size: 8rem;
        color: #ff6b35;
        animation: warningPulse 3s ease-in-out infinite;
        position: absolute;
        opacity: 0.4;
        z-index: 1;
    }

    .error-code-container {
        position: relative;
        z-index: 2;
    }

    .error-code {
        font-size: 12rem;
        font-weight: 900;
        background: linear-gradient(45deg, #ff6b35, #f7931e, #ff8c42);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 0 0 30px rgba(255, 107, 53, 0.5);
        margin: 0;
        line-height: 0.8;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    .error-title {
        font-size: 2.5rem;
        font-weight: 300;
        text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        transition: all 0.3s ease;
    }

    .error-description {
        font-size: 1.2rem;
        line-height: 1.6;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .error-actions {
        margin: 3rem 0;
    }

    .main-buttons .button {
        margin: 0 0.5rem;
        transition: all 0.3s ease;
    }

    .primary-action:hover {
        transform: translateY(-3px) scale(1.05);
        box-shadow: 0 12px 35px rgba(0, 209, 178, 0.4);
    }

    .secondary-action:hover {
        transform: translateY(-3px);
        border-color: var(--secondary);
        background: rgba(255, 107, 53, 0.1);
    }

    .alternative-actions {
        margin: 2rem 0;
    }

    .alt-buttons .button {
        margin: 0 0.5rem;
        transition: all 0.3s ease;
    }

    .alt-action:hover {
        transform: translateY(-2px) scale(1.02);
    }

    .help-info {
        margin: 3rem 0;
    }

    .info-card {
        transition: all 0.3s ease;
    }

    .card-header {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        margin-bottom: 2rem;
    }

    .info-icon {
        font-size: 2rem;
        color: var(--accent);
        animation: pulse 2s ease-in-out infinite;
    }

    .card-title {
        font-size: 1.3rem;
        font-weight: 600;
        text-align: center;
        margin: 0;
    }

    .card-content {
        text-align: left;
    }

    .action-list {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
    }

    .action-item {
        display: flex;
        align-items: flex-start;
        gap: 1rem;
        padding: 1rem;
        background: rgba(255, 255, 255, 0.02);
        border-radius: 10px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        transition: all 0.3s ease;
    }

    .action-item:hover {
        background: rgba(255, 107, 53, 0.05);
        border-color: rgba(255, 107, 53, 0.2);
        transform: translateX(5px);
    }

    .action-icon {
        color: var(--secondary);
        font-size: 1.2rem;
        margin-top: 0.2rem;
        transition: all 0.3s ease;
    }

    .action-text {
        flex: 1;
        line-height: 1.5;
    }

    .action-text strong {
        color: var(--accent);
    }

    .status-indicator {
        margin-top: 3rem;
    }

    .status-card {
        transition: all 0.3s ease;
    }

    .status-content {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        text-align: center;
    }

    .status-icon {
        color: #ffc107;
        font-size: 1.5rem;
        animation: spin 4s linear infinite;
    }

    .status-text {
        flex: 1;
        line-height: 1.5;
    }

    .status-text strong {
        color: #ffc107;
    }

    /* Animations */
    @keyframes warningPulse {
        0%, 100% {
            opacity: 0.4;
            transform: scale(1);
        }
        50% {
            opacity: 0.8;
            transform: scale(1.1);
        }
    }

    @keyframes shake {
        0%, 100% {
            transform: translateX(0);
        }
        25% {
            transform: translateX(-5px);
        }
        75% {
            transform: translateX(5px);
        }
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .error-code {
            font-size: 8rem;
        }

        .error-icon {
            font-size: 5rem;
        }

        .error-title {
            font-size: 2rem;
        }

        .error-description {
            font-size: 1rem;
        }

        .main-buttons .button {
            margin: 0.5rem 0;
            width: 100%;
        }

        .alt-buttons {
            flex-direction: column;
            align-items: stretch;
        }

        .alt-buttons .button {
            margin: 0.5rem 0;
        }

        .card-header {
            flex-direction: column;
            text-align: center;
        }

        .action-list {
            gap: 1rem;
        }

        .action-item {
            flex-direction: column;
            text-align: center;
            gap: 0.5rem;
        }

        .status-content {
            flex-direction: column;
            text-align: center;
        }

        .shape-1, .shape-2, .shape-3, .shape-4 {
            display: none;
        }
    }

    @media (max-width: 480px) {
        .error-code {
            font-size: 6rem;
        }

        .error-title {
            font-size: 1.5rem;
        }
    }
</style>
{% endblock %}