<!-- Portfolio Section -->
<section id="portfolio" class="portfolio">
    <div class="container">
        <div class="text-center">
            <div class="tag">OUR WORK</div>
            <h2 class="section-title text-gradient">Portfolio</h2>
            <p class="section-subtitle">
                Showcasing our passion for exceptional design
            </p>

            <div class="portfolio-controls" id="portfolio-controls">
                <div class="portfolio-search">
                    <div class="search-container">
                        <i class="fas fa-search search-icon"></i>
                        <label for="portfolio-search"></label>
                        <input
                                type="text"
                                class="search-input"
                                id="portfolio-search"
                                placeholder="Search projects..."
                        />
                        <button
                                class="search-clear"
                                id="search-clear"
                                style="display: none"
                        >
                            <svg
                                    width="16"
                                    height="16"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                            >
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>

                {% if all_tags %}
                    <div class="portfolio-filters" id="portfolio-filters">
                        <button class="filter-btn active" data-filter="all">All</button>
                        {% for tag in all_tags %}
                            <button class="filter-btn" data-filter="{{ tag.name|lower }}">
                                {{ tag.name }}
                            </button>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
        </div>

        <!-- Portfolio Item Template -->
        <template id="portfolio-item-template">
            <div class="portfolio-item fade-in-up">
                <div class="portfolio-image-wrapper">
                    <img class="portfolio-image" alt="" loading="lazy">
                    <!-- overlay becomes the interactive hover cue (icon above, title below) -->
                    <div class="portfolio-overlay" aria-hidden="true">
                        <div class="portfolio-overlay-icon" aria-hidden="true">
                            <!-- opposing arrows to indicate 'open' / maximise -->
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                        </div>
                        <div class="portfolio-overlay-content" aria-hidden="true">
                            <h3 class="portfolio-overlay-title" aria-hidden="true"></h3>
                            <div class="portfolio-overlay-tags" aria-hidden="true"></div>
                        </div>
                    </div>
                </div>
            </div>
        </template>

        <div class="portfolio-grid" id="portfolioGrid">
            <!-- Loading state - visible by default -->
            <div class="portfolio-loading" id="portfolioLoading">
                <div class="loading-spinner"></div>
                <p>Loading portfolio items...</p>
            </div>
        </div>


        <!-- See More Button -->
        <div class="portfolio-see-more">
            <button class="btn-see-more" id="see-more-portfolio">
                <span id="see-more-text">See More Work</span>
                <div
                        class="see-more-loading"
                        id="see-more-loading"
                        style="display: none"
                >
                    <div class="loading-spinner-small"></div>
                </div>
                <svg
                        width="20"
                        height="20"
                        viewBox="0 0 24 24"
                        fill="none"
                        stroke="currentColor"
                        stroke-width="2"
                >
                    <path d="M12 5v14M5 12l7 7 7-7"></path>
                </svg>
            </button>
        </div>
    </div>
</section>